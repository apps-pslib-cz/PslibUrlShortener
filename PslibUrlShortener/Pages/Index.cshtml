@page "/"
@using PslibUrlShortener.Services.Options
@inject Microsoft.Extensions.Options.IOptionsSnapshot<AppOptions> App

@model IndexModel
@{
    ViewData["Title"] = "Titulní stránka";
    var isAuthed = User?.Identity?.IsAuthenticated ?? false;
    var isAdmin = User?.IsInRole("Admin") ?? false; 
}

<div class="container py-5">

  <!-- HERO -->
  <section class="text-center mb-5">
        <h1 class="display-5 fw-bold mb-3">@App.Value.Name</h1>
    <p class="lead text-muted mb-4">
      Jednoduchá aplikace pro generování zkrácených odkazů, QR kódů a jejich správu.
    </p>

    <div class="d-flex justify-content-center gap-2 flex-wrap">
      @if (isAuthed)
      {
        <a asp-area="Links" asp-page="/Index" class="btn btn-primary btn-lg">
          <i class="bi bi-link-45deg me-1"></i> Moje odkazy
        </a>
        <a asp-area="Links" asp-page="/Create" class="btn btn-outline-primary btn-lg">
          <i class="bi bi-plus-lg me-1"></i> Vytvořit odkaz
        </a>
        @if (isAdmin)
        {
          <a asp-area="Admin" asp-page="/Links/Index" class="btn btn-outline-secondary btn-lg">
            <i class="bi bi-tools me-1"></i> Administrace
          </a>
        }
      }
    </div>
  </section>

</div>